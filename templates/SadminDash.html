<!DOCTYPE html>
<html lang="en">
<head>
    <title> Inbox/Sent </title>
    

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="../static/styles/inbox.css"/>
</head>
<body>

    <div>
        <h1 id="title">Create a New Game Category</h1>
    </div>

    <div class = "m-4 form-group row">            
    <form action = "http://localhost:5000/admin_create_game/" method = "POST">

    <div class="col-xs-2">
        <label for = "gamename"> Game Name: </label> 
        <input class = "form-control" type = "text" id = "gamename" name = "gamename"><br>
    </div>
    <div class="col-xs-2">
        <button class="responsebtn" type="submit" formmethod="post" name="submit-btn"> Create Game Category </button>        
    </div>
    </form>
    </div>

	<h1>All Users</h1>

	{% if Users %}
	<table class="table">
		<tbody>
			<tr>
				<th>Username</th>
				<th>Name</th>
                <th>Email</th>
			</tr>
            {% for user in Users.values() %}
            {% if user %}
			<tr>
				<td>{{ user[0] }}</td>
				<td>{{ user[1] }}</td>
                <td>{{ user[2] }}</td>
            </tr>
            {% endif %}
			{% endfor %}
		</tbody>
	</table>

	{% else %}
	<h2>No registered users</h2>
    {% endif %}


    <h1>Games</h1>

	{% if Matches %}
	<table class="table">
		<tbody>
			<tr>
				<th>User 1</th>
                <th>User 2</th>
                <th>Type of Game</th>
                <th>Date Requested</th>
                <th>Status</th>
			</tr>
            {% for game in Matches.values() %}
            {% if game %}
			<tr>
                <td>{{ game[1][1] }}</td>
                <td>{{ game[1][2] }}</td>
				<td>{{ game[0] }}</td>
                <td>{{ game[1][3] }}</td>
                <td>{{ game[1][4] }}</td>
            </tr>
            {% endif %}
			{% endfor %}
		</tbody>
	</table>

	{% else %}
	<h2>No games have been set up</h2>
    {% endif %}
    

    <!--   ***************************************   -->
    <h1>Conflicted games</h1>
    <table class="table">
        {% for g in games%}
        <tr>
            <th style="text-align: center;" colspan="5">{{g}}</th>
        </tr>
        <tr>
            <th>User1</th>
            <th>User2</th>
            <th>winnerAccordingToU1</th>
            <th>winnerAccordingToU2</th>
            <th>status</th>
        </tr>

        {% for match in conflict[g] %}        
        <tr>
            <td>match.username1</td>
            <td>mtahc.username2</td>
            <td>match.winnerAccordingToU1</td>
            <td>match.winnerAccordingToU2</td>
            <td>match.status</td>
            <td><button>Submit</button></td>
        </tr>
        {% endfor %}
        <tr> 
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        {% endfor %}
    </table>

    <!--   ***************************************   -->

	<h3><button class="returnbtn"><a href="/mainpage/">Return to Main Page</a></button></h3>
</body>
</html>